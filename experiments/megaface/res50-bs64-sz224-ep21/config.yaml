workers: 16 # total workers
gpus: '0,1,2,3,4,5,6,7'
memcached: True
memcached_client: "/mnt/lustre/share/memcached_client"

model:
    backbone: 'resnet50'
    feature_dim: 256

transform:
    crop_size: 112
    final_size: 224
    crop_center_y_offset: 15

train:
    rand_seed: 0
    batch_size: [64] # batch size for each gpu
    loss_weight: [1.0]
    base_lr: 0.3
    lr_decay_scale: 0.1
    lr_decay_steps: [12, 18]
    max_epoch: 21
    momentum: 0.9
    weight_decay: 0.0001
    print_freq: 100
    average_stats: 100
    augmentation:
        flip_aug: False
        scale_aug: 0.04
        trans_aug: 0.02
    data_root:
        - 'data/megaface_train/clean'
    data_list:
        - 'data/megaface_train/list.txt'
    data_meta:
        - 'data/megaface_train/meta.txt'

val:
    flag: False
    batch_size: [64]
    data_root: 
    data_list: 
    data_meta:

test:
    flag: True
    initial_test: True
    interval: 1
    benchmark: megaface
    batch_size: 64
    probe_root: 'data/megaface/facescrub3530/Images_aligned'
    probe_list: 'data/megaface/facescrub3530/db_aligned.txt'
    distractor_root: 'data/megaface/megaface_distractor/Images_aligned'
    distractor_list: "data/megaface/megaface_distractor/db_aligned.txt"
